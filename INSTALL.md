# EasyBookmark 安装和测试指南

## 安装步骤

### 1. 准备图标文件
在 `icons/` 目录下添加以下图标文件：
- icon16.png (16x16)
- icon32.png (32x32)
- icon48.png (48x48)
- icon128.png (128x128)

**临时解决方案**：如果没有图标文件，可以先注释掉 manifest.json 中的 icons 部分进行测试。

### 2. 在Edge浏览器中加载插件

1. 打开 Microsoft Edge 浏览器
2. 在地址栏输入：`edge://extensions/`
3. 开启右上角的"开发人员模式"
4. 点击"加载解压缩的扩展"
5. 选择项目根目录（包含 manifest.json 的文件夹）
6. 插件加载成功后，会在扩展列表中显示

### 3. 启用侧边栏

**方法一：点击插件图标**
1. 在浏览器工具栏中找到 EasyBookmark 插件图标
2. 点击图标，侧边栏应该会自动打开

**方法二：通过扩展管理页面**
1. 在扩展管理页面找到 EasyBookmark
2. 点击"详细信息"
3. 启用"在侧边栏中显示"选项

**如果点击图标没有反应：**
1. 确保插件已正确加载（无错误提示）
2. 重新加载插件：在扩展页面点击"重新加载"按钮
3. 重启浏览器后再试
4. 检查浏览器控制台是否有错误信息

## 功能测试

### 基础功能测试

1. **侧边栏显示**
   - 插件应该在浏览器左侧显示
   - 界面应该是浅色模式
   - 搜索框应该自动聚焦

2. **书签树展示**
   - 所有书签文件夹和链接应该正确显示
   - 文件夹应该可以点击展开/折叠
   - 书签链接应该显示图标、标题和域名

3. **搜索功能测试**
   - 输入英文关键词（如 "github"）
   - 输入中文关键词（如 "知乎"）
   - 输入拼音全拼（如 "zhihu" 匹配 "知乎"）
   - 输入拼音首字母（如 "zh" 匹配 "知乎"）
   - 输入多关键词（如 "bai du" 匹配 "百度"）
   - **新增：通用拼音首字母匹配**
     - "jkz" 匹配 "监控组知识库"
     - "jswdgl" 匹配 "技术文档管理"
     - "xmglxt" 匹配 "项目管理系统"

4. **键盘操作测试**
   - ↑/↓ 键选择搜索结果
   - Enter 键打开选中的书签
   - Esc 键清空搜索

### 验收标准测试

根据需求文档，测试以下具体场景：

1. **拼音首字母测试**
   ```
   输入: git
   预期: 能匹配到 "GitHub"（拼音首字母 ght）
   ```

2. **拼音全拼测试**
   ```
   输入: wang
   预期: 能匹配到 "网易云音乐"（拼音全拼）
   ```

3. **通用拼音首字母测试（新增）**
   ```
   输入: jkz
   预期: 能匹配到 "监控组知识库"（jiankongzu zhishiku）

   输入: jswdgl
   预期: 能匹配到 "技术文档管理"（jishu wendang guanli）
   ```

4. **回车键测试**
   ```
   操作: 搜索后直接按回车
   预期: 打开第一条匹配结果
   ```

### 拼音搜索测试工具

项目包含了一个专门的拼音搜索测试页面：
- 打开 `pinyin-test.html` 在浏览器中查看
- 包含多种测试用例和交互式测试功能
- 可以验证拼音匹配算法的准确性

## 常见问题

### 1. 插件无法加载
- 检查 manifest.json 语法是否正确
- 确保所有文件路径正确
- 查看浏览器控制台是否有错误信息

### 2. 侧边栏不显示
- 确保在扩展详情页启用了"在侧边栏中显示"
- 尝试重新加载插件

### 3. 书签不显示
- 检查浏览器控制台是否有权限错误
- 确保 manifest.json 中包含 "bookmarks" 权限

### 4. 搜索不工作
- 检查 pinyin.js 是否正确加载
- 查看控制台是否有 JavaScript 错误

### 5. 拼音搜索不准确
- 当前使用的是简化版拼音库
- 可以根据需要扩展 pinyin.js 中的字典

## 开发调试

### 查看控制台
1. 在侧边栏中右键点击
2. 选择"检查"
3. 在控制台中查看错误信息和调试输出

### 重新加载插件
1. 在 `edge://extensions/` 页面
2. 找到 EasyBookmark 插件
3. 点击"重新加载"按钮

### 修改代码后
- 修改代码后需要重新加载插件
- 某些修改可能需要重启浏览器

## 部署准备

在正式部署前，请完成以下工作：

1. **添加真实图标文件**
2. **扩展拼音字典**（如果需要更好的中文支持）
3. **性能优化**（大量书签的情况下）
4. **错误处理完善**
5. **用户体验优化**

## Git 提交

记得及时提交代码到 Git 仓库：

```bash
git add .
git commit -m "完成 EasyBookmark 插件开发"
git push origin main
```
